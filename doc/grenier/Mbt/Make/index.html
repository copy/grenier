<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (grenier.Mbt.Make)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">grenier</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Mbt.Make</span></h1></header><h3 class="heading">Parameters</h3><div><div class="spec argument" id="argument-1-M"><a href="#argument-1-M" class="anchor"></a><div class="def argument"><code><a href="argument-1-M/index.html">M</a> : <a href="../index.html#module-type-MEASURE">MEASURE</a></code></div><div class="doc"></div></div></div><h3 class="heading">Signature</h3><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>+'a t</code><code></code><code><span class="keyword"> = </span><span class="keyword">private </span></code><table class="variant"><tr id="type-t.Leaf" class="anchored"><td class="def constructor"><a href="#type-t.Leaf" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Leaf</span></code></td></tr><tr id="type-t.Node" class="anchored"><td class="def constructor"><a href="#type-t.Node" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Node</span><span class="keyword"> of </span>int<span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><span class="type-var">'a</span> <a href="argument-1-M/index.html#type-measurable">M.measurable</a><span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="argument-1-M/index.html#type-measure">M.measure</a></code></td><td class="doc"><p>(** <code class="code">Node(size, l, x, r)</code> where:
</p><ul><li><code class="code">size</code> is the number of elements in the tree,</li><li><code class="code">l</code> is the left sub-tree</li><li><code class="code">x</code> is a user-defined value</li><li><code class="code">r</code> is the right sub-tree.</li></ul><p>Trees are guaranteed balanced by construction, the depth of all branches
is O(log <code class="code">size</code>). *)</p></td></tr></table><code></code></div><div class="doc"><h2>Type of balanced trees</h2></div></div><div class="spec val" id="val-leaf"><a href="#val-leaf" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>leaf : <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Leaf constructor, the empty tree</p></div></div><div class="spec val" id="val-node"><a href="#val-node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>node : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="argument-1-M/index.html#type-measurable">M.measurable</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Smart Node constructor, ensuring that the resulting tree is balanced and
has the appropriate size.</p><p>Cost of <code class="code">node l x r</code> is expected to be O(log |<code class="code">size l</code> - <code class="code">size r</code>|)
amortized, i.e proportional to the logarithm of the disbalance.
In particular, if <code class="code">l</code> and <code class="code">r</code> are similarly-sized, it operates in constant
time on average.
NOT PROVEN</p><p>User-values can be moved in different subtrees of the result, but the
ordering is preserved (so data stay correct if the operation applied on
values is associative or the relation expected between them is transitive).</p></div></div><h2>Convenience functions</h2><div class="spec val" id="val-size"><a href="#val-size" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>size : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>Accessor to the size</p></div></div><div class="spec val" id="val-join"><a href="#val-join" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>join : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Concatenate two trees.
Cost of <code class="code">join l r</code> is O(log (min <code class="code">size l</code><code class="code">size r</code>)).
NOT PROVEN</p></div></div><div class="spec val" id="val-rank"><a href="#val-rank" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rank : int <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="argument-1-M/index.html#type-measurable">M.measurable</a></code></div><div class="doc"><p>Return the n'th node in tree order</p></div></div><div class="spec val" id="val-measure"><a href="#val-measure" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>measure : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="argument-1-M/index.html#type-measure">M.measure</a></code></div><div class="doc"></div></div></body></html>